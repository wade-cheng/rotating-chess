import zlib, json, base64


def json_compress(j):
    return base64.b64encode(zlib.compress(json.dumps(j).encode("utf-8"))).decode("ascii")


def json_decompress(j):
    return json.loads(zlib.decompress(base64.b64decode(j)))


if __name__ == "__main__":
    msg = """{"instructions": "this ENTIRE alert is your game save.", "save": [[{"x": 25, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 25, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 75, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 75, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 125, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 125, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 175, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 175, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 225, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 225, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 275, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 275, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 325, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 325, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 375, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 375, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 25, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 25, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}, {"x": 75, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 75, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 125, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 125, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 175, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "queen"}, {"x": 175, "y": 375, "angle": 0, "side": 2, "piece_name": "queen"}, {"x": 225, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "king"}, {"x": 225, "y": 375, "angle": 0, "side": 2, "piece_name": "king"}, {"x": 275, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 275, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 325, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 325, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 375, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 375, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}], [{"x": 25, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 25, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 75, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 75, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 125, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 125, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 175, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 175.0, "y": 225.0, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 225, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 225, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 275, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 275, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 325, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 325, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 375, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 375, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 25, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 25, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}, {"x": 75, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 75, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 125, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 125, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 175, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "queen"}, {"x": 175, "y": 375, "angle": 0, "side": 2, "piece_name": "queen"}, {"x": 225, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "king"}, {"x": 225, "y": 375, "angle": 0, "side": 2, "piece_name": "king"}, {"x": 275, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 275, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 325, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 325, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 375, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 375, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}], [{"x": 25, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 25, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 75, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 75, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 125, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 125, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 175, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 175.0, "y": 125.0, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 225, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 225, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 275, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 275, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 325, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 325, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 375, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 375, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 25, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 25, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}, {"x": 75, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 75, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 125, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 125, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 175, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "queen"}, {"x": 175, "y": 375, "angle": 0, "side": 2, "piece_name": "queen"}, {"x": 225, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "king"}, {"x": 225, "y": 375, "angle": 0, "side": 2, "piece_name": "king"}, {"x": 275, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 275, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 325, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 325, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 375, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 375, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}], [{"x": 25, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 25, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 75, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 75, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 125, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 125, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 175, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 225.0, "y": 75.0, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 225, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 275, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 275, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 325, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 325, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 375, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 375, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 25, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 25, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}, {"x": 75, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 75, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 125, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 125, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 175, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "queen"}, {"x": 175, "y": 375, "angle": 0, "side": 2, "piece_name": "queen"}, {"x": 225, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "king"}, {"x": 225, "y": 375, "angle": 0, "side": 2, "piece_name": "king"}, {"x": 275, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 275, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 325, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 325, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 375, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 375, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}]]}"""
    print(json_compress(msg))

    print(f"comp: {len(str(json_compress(msg)))}")
    print(f"uncomp: {len(msg)}")

    assert json_decompress(json_compress(msg)) == msg
