import doctest
import unittest

import compressjson


def load_tests(loader, tests, ignore):
    tests.addTests(doctest.DocTestSuite(compressjson))
    return tests


class TestSaveFiles(unittest.TestCase):
    def test_compression(self):
        msg = """{"instructions": "this ENTIRE alert is your game save.", "save": [[{"x": 25, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 25, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 75, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 75, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 125, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 125, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 175, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 175, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 225, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 225, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 275, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 275, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 325, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 325, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 375, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 375, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 25, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 25, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}, {"x": 75, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 75, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 125, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 125, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 175, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "queen"}, {"x": 175, "y": 375, "angle": 0, "side": 2, "piece_name": "queen"}, {"x": 225, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "king"}, {"x": 225, "y": 375, "angle": 0, "side": 2, "piece_name": "king"}, {"x": 275, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 275, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 325, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 325, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 375, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 375, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}], [{"x": 25, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 25, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 75, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 75, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 125, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 125, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 175, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 175.0, "y": 225.0, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 225, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 225, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 275, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 275, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 325, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 325, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 375, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 375, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 25, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 25, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}, {"x": 75, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 75, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 125, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 125, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 175, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "queen"}, {"x": 175, "y": 375, "angle": 0, "side": 2, "piece_name": "queen"}, {"x": 225, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "king"}, {"x": 225, "y": 375, "angle": 0, "side": 2, "piece_name": "king"}, {"x": 275, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 275, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 325, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 325, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 375, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 375, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}], [{"x": 25, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 25, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 75, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 75, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 125, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 125, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 175, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 175.0, "y": 125.0, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 225, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 225, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 275, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 275, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 325, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 325, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 375, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 375, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 25, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 25, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}, {"x": 75, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 75, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 125, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 125, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 175, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "queen"}, {"x": 175, "y": 375, "angle": 0, "side": 2, "piece_name": "queen"}, {"x": 225, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "king"}, {"x": 225, "y": 375, "angle": 0, "side": 2, "piece_name": "king"}, {"x": 275, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 275, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 325, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 325, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 375, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 375, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}], [{"x": 25, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 25, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 75, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 75, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 125, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 125, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 175, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 225.0, "y": 75.0, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 225, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 275, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 275, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 325, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 325, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 375, "y": 75, "angle": 3.141592653589793, "side": 1, "piece_name": "pawn"}, {"x": 375, "y": 325, "angle": 0, "side": 2, "piece_name": "pawn"}, {"x": 25, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 25, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}, {"x": 75, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 75, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 125, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 125, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 175, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "queen"}, {"x": 175, "y": 375, "angle": 0, "side": 2, "piece_name": "queen"}, {"x": 225, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "king"}, {"x": 225, "y": 375, "angle": 0, "side": 2, "piece_name": "king"}, {"x": 275, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "bishop"}, {"x": 275, "y": 375, "angle": 0, "side": 2, "piece_name": "bishop"}, {"x": 325, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "knight"}, {"x": 325, "y": 375, "angle": 0, "side": 2, "piece_name": "knight"}, {"x": 375, "y": 25, "angle": 3.141592653589793, "side": 1, "piece_name": "rook"}, {"x": 375, "y": 375, "angle": 0, "side": 2, "piece_name": "rook"}]]}"""
        self.assertEqual(compressjson.json_decompress(compressjson.json_compress(msg)), msg)

    # TODO: in Gamestate, make a Board class out of the relevant functionality. use Board to test save files here.
    # UHHH, this may be TurnNavigation but also not at all?


if __name__ == "__main__":
    unittest.main()
